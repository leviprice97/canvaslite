{% extends "base.html" %}

{% block title %}
    {% if subject %}
        {{ subject.title }} courses
    {% else %}
        All courses
    {% endif %}
{% endblock %}
{% block content %}
    <div class="container">
        <div class="row">
            <div class="col border bg-light">
                <h1>Subjects</h1>
                    <div class="row">
                        <div class="col border">
                            <a href="{% url "course_list" %}">All</a><br>
                        </div>
                        {% for s in subjects %}
                        <div class="col border">
                            <a href="{% url "course_list_subject" s.slug %}">{{ s.title }} | {{ s.total_courses }} courses</a>
                        </div>
                        {% endfor %}
                    </div>
                <h1>
                    {% if subject %}
                        {{ subject.title }} courses
                    {% else %}
                        All courses
                    {% endif %}
                </h1>
                <div class="row">
                    {% for course in courses %}
                    <div class="col border">
                        {% with subject=course.subject %}
                            <h3><a href="{% url "course_detail" course.slug %}"><br>
                            {{ course.title }}</a></h3>
                            <p>
                                <a href="{% url "course_list_subject" subject.slug %}">
                                {{ subject }}</a> |
                                {{ course.total_modules }} modules |
                                Instructor: {{ course.owner.get_full_name }}
                                <h5><a href="{% url "course_detail" course.slug %}">Recent Announcements</h5></a>
                                (Announcements will be displayed once created)<br>
                            <br></p>
                        {% endwith %}
                    </div>
                    {% endfor %}
                </div>
            </div>
        </div>
    </div>
{% endblock %}